(this.webpackJsonpgetaway_quiz=this.webpackJsonpgetaway_quiz||[]).push([[0],{20:function(e,t,n){e.exports=n(54)},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),l=n.n(c),o=(n(25),n(1)),s=(n(26),n(10));n(27);function i(e){var t=e.player,n=e.position,a=e.submitted;return r.a.createElement("div",{className:"race-track-outer"},r.a.createElement("h3",{className:"".concat(a?"submitted":"")},t.name," ",!n.alive&&r.a.createElement("span",null,"are in the slammer")," "),n.alive?r.a.createElement("div",{className:"race-track"},r.a.createElement("div",{className:"space"},r.a.createElement("img",{src:"".concat("/famquiz","/police.png")})),Object(s.a)(Array(10)).map((function(e,a){return r.a.createElement("div",{key:a,className:"space ".concat(a)},a===n.score&&r.a.createElement("img",{src:t.icon}))}))):r.a.createElement("div",{className:"jail"},r.a.createElement("div",{className:"bars"},Object(s.a)(Array(10)).map((function(){return r.a.createElement("div",{className:"bar"})}))),r.a.createElement("img",{src:t.icon})))}function u(e){var t=e.players,n=e.positions,a=e.answers;return console.log("players are ",t,"positions are ",n),r.a.createElement("div",{className:"race"},t.map((function(e){return r.a.createElement(i,{player:e,position:n.find((function(t){return t.name===e.name})),key:e.name,submitted:a.find((function(t){return t.name===e.name}))})})))}n(28);var m=n(8);function E(e){var t=e.currentBet,n=e.onBetChange;return r.a.createElement("div",{className:"player-bet"},r.a.createElement(m.RadioGroup,{onChange:function(e){return n(e)},horizontal:!0,value:t},r.a.createElement(m.RadioButton,{value:"coast"},"Coast"),r.a.createElement(m.RadioButton,{value:"accelerate"},"Accelerate")))}var f="https://famquiz.herokuapp.com",d=function(e,t){return console.log("POSITNG to ",f+"/getaway/"+e),fetch(f+"/getaway/"+e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},v=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=setInterval((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch(f+"/getaway/"+e).then((function(e){return e.json()}))})().then((function(e){r(e)}))}),500);return function(){return clearInterval(e)}}),[]);return[n,function(e,t,n,a){d("answer",{name:e,bet:t,correct:n,answer:a})}]},h=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=localStorage.getItem("player");e&&(r(e),c(e))}),[]);var c=function(e){console.log("SUBMITTING JOINED ",e),d("join",{name:e})};return[n,function(e){n&&function(e){d("left",{name:e})}(n),c(e),r(e),localStorage.setItem("player",e)}]};n(50);function p(e){var t=e.players,n=e.onPlayerSelect,a=e.selectedPlayer;return r.a.createElement("div",{className:"player-select-screen"},a?r.a.createElement("h1",null,"Waiting for others to join"):r.a.createElement("h1",null,"Select your player"),r.a.createElement("div",{className:"players"},t.map((function(e){return r.a.createElement("div",{onClick:function(){return a=e.name,void(t.find((function(e){return e.name===a})).joined||n(a));var a},className:"player ".concat(e.joined&&"joined"," ").concat(a===e.name?"selected":""," ")},r.a.createElement("img",{src:e.icon}),r.a.createElement("h3",null,e.name))}))))}n(51);function w(e){var t=e.question,n=e.onSubmit;return r.a.createElement("div",{className:"multiple-choice-question"},r.a.createElement("h3",{className:"category"},t.category),r.a.createElement("h2",{className:"question"},t.question),r.a.createElement("div",{className:"answers"},t.answers.map((function(e){return r.a.createElement("button",{key:e,onClick:function(){return n(e)}},e)}))))}n(52);function y(){var e=Object(a.useState)(10),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){n>0&&setTimeout((function(){return c(Math.max(0,n-1))}),1e3)}),[n]),r.a.createElement("div",{className:"countdown"},r.a.createElement("h3",null,"Next Question in..."),r.a.createElement("h1",null,n))}n(53);function g(e){var t=e.quizState,n=e.player,a=e.onSubmitAnswer,c=e.bet,l=e.onSetBet,o=t.currentAnswers.find((function(e){return e.name===n})),s=t.scores.find((function(e){return e.name===n}));return console.log("player score ",s),r.a.createElement("div",{className:"race-screen"},r.a.createElement(u,{players:t.players,positions:t.scores,answers:t.currentAnswers}),"show_question"===t.currentState&&s.alive&&r.a.createElement(r.a.Fragment,null,o?r.a.createElement("div",{className:"submitted-answer"},r.a.createElement("h3",null,"You answered "),r.a.createElement("h1",null,o.answer),r.a.createElement("h3",null,"At speed"),r.a.createElement("h1",null," ",c)):r.a.createElement("div",{className:"question-entry"},r.a.createElement(w,{question:t.currentQuestion,onSubmit:a}),r.a.createElement(E,{currentBet:c,onBetChange:l}))),"show_question"===t.currentState&&!s.alive&&r.a.createElement("h1",null,"You got caught by the police and locked up"),"show_answer"===t.currentState&&r.a.createElement("div",{className:"answers"},r.a.createElement("h3",null,"The correct Answer was"),r.a.createElement("h1",null,t.currentQuestion.correctAnswer),r.a.createElement("div",{className:"user-answers"},t.currentAnswers.map((function(e){return r.a.createElement("div",{className:"user-answer ".concat(e.correct?"correct":"")},r.a.createElement("h3",null,e.name),r.a.createElement("h1",{className:"".concat(e.correct?"correct":"")},e.answer))}))),r.a.createElement(y,null)))}function N(e){var t=e.winner;return r.a.createElement("div",{className:"win-screen"},r.a.createElement("h1",null,"AND THE WINNER IS!"),r.a.createElement("img",{src:t.icon}),r.a.createElement("h1",null,t.name))}var b=function(){var e=h(),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)("coast"),s=Object(o.a)(l,2),i=s[0],u=s[1],m=v(),E=Object(o.a)(m,2),f=E[0],d=E[1];return r.a.createElement("div",{className:"App"},f&&"wait_to_start"===f.currentState&&r.a.createElement(p,{players:f.players,selectedPlayer:n,onPlayerSelect:c}),f&&["show_question","show_answer"].includes(f.currentState)&&r.a.createElement(g,{bet:i,onSetBet:u,onSubmitAnswer:function(e){d(n,i,e===f.currentQuestion.correctAnswer,e)},quizState:f,player:n}),f&&"show_winner"===f.currentState&&r.a.createElement(N,{winner:f.winner}),!f&&r.a.createElement("h1",null,"Loading..."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.49f032c0.chunk.js.map