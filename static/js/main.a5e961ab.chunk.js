(this.webpackJsonpgetaway_quiz=this.webpackJsonpgetaway_quiz||[]).push([[0],{20:function(e,t,n){e.exports=n(55)},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),l=n.n(c),o=(n(25),n(1)),i=(n(26),n(10));n(27);function s(e){var t=e.player,n=e.position,a=e.submitted;return r.a.createElement("div",{className:"race-track-outer"},r.a.createElement("h3",{className:"".concat(a?"submitted":"")},t.name," ",!n.alive&&r.a.createElement("span",null,"are in the slammer")," "),n.alive?r.a.createElement("div",{className:"race-track"},r.a.createElement("div",{className:"space"},r.a.createElement("img",{src:"".concat("/famquiz","/police.png")})),Object(i.a)(Array(10)).map((function(e,a){return r.a.createElement("div",{key:a,className:"space ".concat(a)},a===n.score&&r.a.createElement("img",{src:t.icon}))}))):r.a.createElement("div",{className:"jail"},r.a.createElement("div",{className:"bars"},Object(i.a)(Array(10)).map((function(){return r.a.createElement("div",{className:"bar"})}))),r.a.createElement("img",{src:t.icon})))}function u(e){var t=e.players,n=e.positions,a=e.answers;return console.log("players are ",t,"positions are ",n),r.a.createElement("div",{className:"race"},t.map((function(e){return r.a.createElement(s,{player:e,position:n.find((function(t){return t.name===e.name})),key:e.name,submitted:a.find((function(t){return t.name===e.name}))})})))}n(28);var m=n(8);function f(e){var t=e.currentBet,n=e.onBetChange;return r.a.createElement("div",{className:"player-bet"},r.a.createElement(m.RadioGroup,{onChange:function(e){return n(e)},horizontal:!0,value:t},r.a.createElement(m.RadioButton,{value:"coast"},"Coast (+/- 1)"),r.a.createElement(m.RadioButton,{value:"accelerate"},"Accelerate (+/-2)")))}var E="https://famquiz.herokuapp.com",v=function(e,t){return console.log("POSITNG to ",E+"/getaway/"+e),fetch(E+"/getaway/"+e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})},d=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=setInterval((function(){(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch(E+"/getaway/"+e).then((function(e){return e.json()}))})().then((function(e){r(e)}))}),500);return function(){return clearInterval(e)}}),[]);return[n,function(e,t,n,a){v("answer",{name:e,bet:t,correct:n,answer:a})}]},w=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){var e=localStorage.getItem("player");e&&(r(e),c(e))}),[]);var c=function(e){"viewer"!==e&&v("join",{name:e})};return[n,function(e){n&&function(e){"viewer"!==e&&v("left",{name:e})}(n),c(e),r(e),localStorage.setItem("player",e)}]};n(50);function h(e){var t=e.players,n=e.onPlayerSelect,a=e.selectedPlayer,c=function(e){"viewer"===e&&n(e),"viewer"===e||t.find((function(t){return t.name===e})).joined||n(e)};return r.a.createElement("div",{className:"player-select-screen"},a?r.a.createElement("h1",null,"Waiting for others to join"):r.a.createElement("h1",null,"Select your player"),r.a.createElement("div",{className:"players"},t.map((function(e){return r.a.createElement("div",{onClick:function(){return c(e.name)},className:"player ".concat(e.joined&&"joined"," ").concat(a===e.name?"selected":""," ")},r.a.createElement("img",{src:e.icon}),r.a.createElement("h3",null,e.name))})),r.a.createElement("h1",{className:"viewer"===a?"joined":"",onClick:function(){return c("viewer")}},"Viewer")))}n(51);function p(e){var t=e.question,n=e.onSubmit;return r.a.createElement("div",{className:"multiple-choice-question"},r.a.createElement("h3",{className:"category"},t.difficulty," - ",t.category),r.a.createElement("h2",{className:"question"},t.question),r.a.createElement("div",{className:"answers"},t.answers.map((function(e){return r.a.createElement("button",{key:e,onClick:function(){return n(e)}},e)}))))}n(52);function y(){var e=Object(a.useState)(5),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){n>0&&setTimeout((function(){return c(Math.max(0,n-1))}),1e3)}),[n]),r.a.createElement("div",{className:"countdown"},r.a.createElement("h3",null,"Next Question in..."),r.a.createElement("h1",null,n))}n(53);function b(e){var t=e.quizState,n=e.player,a=e.onSubmitAnswer,c=e.bet,l=e.onSetBet,o=t.currentAnswers.find((function(e){return e.name===n})),i=t.scores.find((function(e){return e.name===n}));return console.log("player score ",i),r.a.createElement("div",{className:"race-screen"},r.a.createElement(u,{players:t.players,positions:t.scores,answers:t.currentAnswers}),"show_question"===t.currentState&&("viewer"===n||i&&i.alive)&&r.a.createElement(r.a.Fragment,null,o?r.a.createElement("div",{className:"submitted-answer"},r.a.createElement("h3",null,"You answered "),r.a.createElement("h1",null,o.answer),r.a.createElement("h3",null,"At speed"),r.a.createElement("h1",null," ",c)):r.a.createElement("div",{className:"question-entry"},r.a.createElement(p,{question:t.currentQuestion,onSubmit:a}),"viewer"!==n&&r.a.createElement(f,{currentBet:c,onBetChange:l}))),"show_question"===t.currentState&&i&&!i.alive&&r.a.createElement("h1",null,"You got caught by the police and locked up"),"show_answer"===t.currentState&&r.a.createElement("div",{className:"answers"},r.a.createElement("h3",null,"The correct Answer was"),r.a.createElement("h1",null,t.currentQuestion.correctAnswer),r.a.createElement("div",{className:"user-answers"},t.currentAnswers.map((function(e){return r.a.createElement("div",{className:"user-answer ".concat(e.correct?"correct":"")},r.a.createElement("h3",null,e.name),r.a.createElement("h1",{className:"".concat(e.correct?"correct":"")},e.answer))}))),r.a.createElement(y,null)))}n(54);function g(e){var t=e.winner;return r.a.createElement("div",{className:"win-screen"},r.a.createElement("h1",null,"AND THE WINNER IS!"),r.a.createElement("img",{src:t.icon}),r.a.createElement("h1",null,t.name))}var N=function(){var e=w(),t=Object(o.a)(e,2),n=t[0],c=t[1],l=Object(a.useState)("coast"),i=Object(o.a)(l,2),s=i[0],u=i[1],m=d(),f=Object(o.a)(m,2),E=f[0],v=f[1];return r.a.createElement("div",{className:"App"},E&&"wait_to_start"===E.currentState&&r.a.createElement(h,{players:E.players,selectedPlayer:n,onPlayerSelect:c}),E&&["show_question","show_answer"].includes(E.currentState)&&r.a.createElement(b,{bet:s,onSetBet:u,onSubmitAnswer:function(e){v(n,s,e===E.currentQuestion.correctAnswer,e)},quizState:E,player:n}),E&&"show_winner"===E.currentState&&r.a.createElement(g,{winner:E.winner}),!E&&r.a.createElement("h1",null,"Loading..."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.a5e961ab.chunk.js.map